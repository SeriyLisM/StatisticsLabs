import math

def load_data_from_file(filename):
    """Загружает данные из файла."""
    data = []
    try:
        with open(filename, 'r') as f:
            for line in f:
                line = line.strip()
                if line:  
                    data.append(float(line))
        if len(data) == 0:
            print("Файл пуст.")
            return None
        return data
    except FileNotFoundError:
        print(f"Файл {filename} не найден.")
        return None
    except ValueError:
        print("Ошибка при чтении данных из файла. Убедитесь, что файл содержит только числа.")
        return None

filename = input("Введите имя файла с данными (например, data.txt): ")
data = load_data_from_file(filename)

if data is None:
    exit()

n = len(data)
print(f"Загружено {n} значений.")

x_mean = sum(data) / n
s_squared = sum((x - x_mean)**2 for x in data) / (n - 1)
s = math.sqrt(s_squared) # Выборочное стандартное отклонение

print(f"\nВыборочная средняя (x̄): {x_mean:.6f}")
print(f"Выборочная дисперсия (s²): {s_squared:.6f}")
print(f"Выборочное стандартное отклонение (s): {s:.6f}")

sum_cubed_deviations = sum((x - x_mean)**3 for x in data)
A = sum_cubed_deviations / ((n - 1) * s**3)

sum_fourth_deviations = sum((x - x_mean)**4 for x in data)
E = sum_fourth_deviations / ((n - 1) * s**4) - 3

print(f"\nКоэффициент асимметрии (A): {A:.6f}")
print(f"Коэффициент эксцесса (E): {E:.6f}")

print("\n" + "="*60)
print("ПРОВЕРКА ГИПОТЕЗЫ О НОРМАЛЬНОМ РАСПРЕДЕЛЕНИИ")
print("="*60)

if abs(A) < 0.5 and abs(E) < 0.5:
    print("Вывод: Эмпирическое распределение близко к нормальному.")
elif abs(A) >= 0.5 and abs(E) < 0.5:
    print("Вывод: Распределение имеет заметную асимметрию, но кривизна близка к нормальной.")
elif abs(A) < 0.5 and abs(E) >= 0.5:
    print("Вывод: Распределение симметрично, но имеет иную кривизну (острее или плосче) по сравнению с нормальным.")
else:
    print("Вывод: Распределение отличается от нормального как по асимметрии, так и по кривизне.")

print("\nТеоретические значения для нормального распределения: A=0, E=0.")
